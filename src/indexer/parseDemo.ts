import { MAINNET_ASSETS_ID } from "~/indexer/lib/constants";
import {
  parseLiquidateTon,
  parseLiquidateFailMsg,
  parseLiquidateSatisfyInMsg,
  parseTonSupply,
  parseUserFullData,
  parseWithdrawal,
  parseLiquidateJetton,
} from "./parse";

void parseUserFullData("EQBJyIRJdEvH6nZcrSvof3mhxDu8ip3Z2zOgSZfCfuLPl-E8");

// console.log(
//   "parseTonSupply",
//   parseTonSupply("b5ee9c7201010101000f000019000000010000000000000000e0"),
// );
console.log(
  "parseTonSupply",
  parseTonSupply(
    "b5ee9c7201010101003800006b000000010000000000000000c000000649534e0020050d1e388c3b2ee5b2cf9b777f9b6ff6deca67ef1e46740dd0ead5f169db1fbf1c",
  ),
);
console.log("****** withdrawal USDT ******");
// https://tonviewer.com/transaction/033f07f4b138979f8600d53c5021f68bcc8240dfc7e7e2f401943630e747d799

console.log(
  "withdrawal",
  parseWithdrawal(
    "b5ee9c7201020f010001e60001ab000000020000000000000000ca9006bd3fb03d355daeeff93b24be90afaa6e3ca0073ff5720f8a852c93327800000000b2d05e008010ced158ef1baf0ef699d55f7112a56fbafa2487ba8411ab8682ad36253c239d1c010180eb02b10c39b1661564be5a249ae033da0af61c9a0702f24326045412ab408c9d3e07b1084ee98d1f6eb054c88f1a9631221873927f31ab4593987a3f6f0ce30d02020120030402012005060201200b0c02012007080052bf895668e908644f30322b997de8faaafc21f05aa52f8982f042dac1fe0b4d09d00000000179a2408a0051bf748433fcbcc1ac75e54798fb9cdfd8d368b8d6ae3092f4c291cf8465590f7b1400000002d49d6a3302037e9a090a0050bd93e2f57ba870af34480350c789b0987d15b43a53172bfce294de21e7d724e700000001773679320050bda074805fc853987abe6f7fe3ad97a6a6f3077a16391fec744f671a015fbd7e0000000066b9917e0201200d0e0052bf8a9006bd3fb03d355daeeff93b24be90afaa6e3ca0073ff5720f8a852c933278000000003b9d71910051bf47b22d8d0a21004209a3eeb54d9c61d63c8ef5dbc1a701ddc4311c1cacb03f8c00000000773390010051bf670f2d046c32f2b194958abd36b7c71cd118ec635f0990ceac863e9350f1de6600000000773ae323",
  ),
);
console.log("****** withdrawal USDT ******");

console.log("****** withdrawal TON ******");
// https://tonviewer.com/transaction/4b5b4d891e9866c9050ffbc16147725c9429dee083e504dfe3a72b6d599f3519
console.log(
  "withdrawal",
  parseWithdrawal(
    "b5ee9c7201020f010001e60001ab0000000200000000000000001a4219fe5e60d63af2a3cc7dce6fec69b45c6b5718497a6148e7c232ac87bd8affffffffffffffff80015f65225b69282efb33b80d4167e7ac2e70cc37661d9148f4832777d2110a1ddc01018029d3d7e841d54b7d8364a7fe228ca09cb861c95a6e6b68ce320893df1e273cf58dcb6d07548a74cd51a5887602a989a201c12638eb4eae71b7fa378eed505b0502020120030402012005060201200b0c02012007080052bf895668e908644f30322b997de8faaafc21f05aa52f8982f042dac1fe0b4d09d000000001858841e20051bf748433fcbcc1ac75e54798fb9cdfd8d368b8d6ae3092f4c291cf8465590f7b1400000002eb8ffa8d02037e9a090a0050bd93e2f57ba870af34480350c789b0987d15b43a53172bfce294de21e7d724e700000001830869440050bda074805fc853987abe6f7fe3ad97a6a6f3077a16391fec744f671a015fbd7e0000000066bad1130201200d0e0052bf8a9006bd3fb03d355daeeff93b24be90afaa6e3ca0073ff5720f8a852c933278000000003b9d9a120051bf47b22d8d0a21004209a3eeb54d9c61d63c8ef5dbc1a701ddc4311c1cacb03f8c000000007734cf490051bf670f2d046c32f2b194958abd36b7c71cd118ec635f0990ceac863e9350f1de6600000000773b3425",
  ),
);
// https://tonviewer.com/transaction/dbfee5af6c5de7f9278921276882688fe1d287d05cbb9df2528bbacaf2b7c360
console.log(
  "withdrawal",
  parseWithdrawal(
    "b5ee9c7201020f010001e60001ab0000000200000000000000001a4219fe5e60d63af2a3cc7dce6fec69b45c6b5718497a6148e7c232ac87bd8affffffffffffffff800cbc259509136c7890dfacf567dea682aafcacca065102e2593371f995134499fc0101806e2236cfe6314a3e1abbbfc7fdb59962bb8700a19c1634697f2dedf70500d19a4c755139da7e10ac93618797b9f75b41154841640f208343b093a1576feb870002020120030402012005060201200b0c02012007080052bf895668e908644f30322b997de8faaafc21f05aa52f8982f042dac1fe0b4d09d000000001896eb7e20051bf748433fcbcc1ac75e54798fb9cdfd8d368b8d6ae3092f4c291cf8465590f7b1400000002f2d2d85702037e9a090a0050bd93e2f57ba870af34480350c789b0987d15b43a53172bfce294de21e7d724e70000000186ecc8400050bda074805fc853987abe6f7fe3ad97a6a6f3077a16391fec744f671a015fbd7e0000000066bb88c50201200d0e0052bf8a9006bd3fb03d355daeeff93b24be90afaa6e3ca0073ff5720f8a852c933278000000003b9e53600051bf47b22d8d0a21004209a3eeb54d9c61d63c8ef5dbc1a701ddc4311c1cacb03f8c000000007733bf0b0051bf670f2d046c32f2b194958abd36b7c71cd118ec635f0990ceac863e9350f1de6600000000773ca6c1",
  ),
);
// https://tonviewer.com/transaction/9b8ef831dcd0f9a0d75b0f6c9390a929e3c4b7d3d0c38dcf3a433f8d378f8fb8
console.log(
  "withdrawal",
  parseWithdrawal(
    "b5ee9c7201020901000137000169000000020000000000000000706c5d28b712f203756b4638c2d6aee2dc6ecbb68129772063644b8db6b842e10000000001312d03e0010180ec71c230826d7e892edd13b35708503cd6f36b17a2156474f35b424c1dbe129a9f6f5bac4b877330fc76eebb2ac7cc1c0d1585545d247065838288dc07aad80802020120030402012005060053bfc20ecc5f045afb410bb61adb1bf374c8ea70a7063739243d7695d0c45a63ab5f800000001dccbe10c002012007080052bfb06c5d28b712f203756b4638c2d6aee2dc6ecbb68129772063644b8db6b842e1000000003b9be0380051bf748433fcbcc1ac75e54798fb9cdfd8d368b8d6ae3092f4c291cf8465590f7b1400000000ee6b28010051bf66c0e900bf90a730f57cdeffc75b2f4d4de60ef42c723fd8e89ece3402bf7afc00000000ca4b2eab",
  ),
);
console.log(
  "withdrawal",
  parseWithdrawal(
    "b5ee9c7201020901000137000169000000020000000000000000841d98be08b5f682176c35b637e6e991d4e14e0c6e72487aed2ba188b4c756bf00000000004c4b40e001018025da5bed2a28a15507411b5c3179e6485de468630b1c2054c366cb357596a718883440996b7e38a7dc39da4f89d79f584c0b66787f7de1d28d071f31ad6e640e02020120030402012005060053bfc20ecc5f045afb410bb61adb1bf374c8ea70a7063739243d7695d0c45a63ab5f800000001dcd47f64002012007080052bfb06c5d28b712f203756b4638c2d6aee2dc6ecbb68129772063644b8db6b842e1000000003b9f7ce40051bf748433fcbcc1ac75e54798fb9cdfd8d368b8d6ae3092f4c291cf8465590f7b1400000000ff1b9e010051bf66c0e900bf90a730f57cdeffc75b2f4d4de60ef42c723fd8e89ece3402bf7afc00000000ca6c8cc3",
  ),
);
//
console.log("****** withdrawal TON ******");

const liquidateData = `b5ee9c7201020f0100020f0001fe0000000300000191465b21d08010974ba4c4a41d43be2f70aaf8bd4bb0a049718a8bb47a3256132edee303bd82b003a36ecff8201a9bf1b6c6641de02c671588d8d8528f9a628473cc130a1e1cdf732a401af4fec0f4d576bbbfe4ec92fa42bea9b8f2801cffd5c83e2a14b24cc9e000000000023b880700000000522520640101808d89b3da971aa4d84fc1735fd0adbaa7e9b25bad95a25d8e00bdc99600f6ac3781aaa00fc6ea6a666c3e94a6f50671b5bebd8600d23b577f51fe5a45b5ce600f02020120030402012005060201200b0c02012007080052bf895668e908644f30322b997de8faaafc21f05aa52f8982f042dac1fe0b4d09d000000001972fd8c80051bf748433fcbcc1ac75e54798fb9cdfd8d368b8d6ae3092f4c291cf8465590f7b14000000030ca8d72502037e9a090a0050bd93e2f57ba870af34480350c789b0987d15b43a53172bfce294de21e7d724e70000000194950af50050bda074805fc853987abe6f7fe3ad97a6a6f3077a16391fec744f671a015fbd7e0000000066b9f2370201200d0e0052bf8a9006bd3fb03d355daeeff93b24be90afaa6e3ca0073ff5720f8a852c933278000000003b9ffb450051bf47b22d8d0a21004209a3eeb54d9c61d63c8ef5dbc1a701ddc4311c1cacb03f8c0000000077356ea30051bf670f2d046c32f2b194958abd36b7c71cd118ec635f0990ceac863e9350f1de6600000000773ff68b`;
const liquidateData2 = `b5ee9c7201020f0100020f0001fe00000003000001913846f8a7800be91c2195279a0609ea9a341574ab0ea4ecb8ff9cbe3f96de9a9497c991bd0cb00392201f6fafd0c258686b5e723f810b576e8177d0c06d75827e1e8a4322993eab2a401af4fec0f4d576bbbfe4ec92fa42bea9b8f2801cffd5c83e2a14b24cc9e0000000000c994ff700000001c90f02bb010180fb30e3d7a982f525d68940ee80b0dedd7a521aa943c3c8934f66e2a79c2d5ad2edda13564a5d5544b760a8ee1642d0b10639af99c123b1122de6abb058aa720a02020120030402012005060201200b0c02012007080052bf895668e908644f30322b997de8faaafc21f05aa52f8982f042dac1fe0b4d09d0000000019c7372b00051bf748433fcbcc1ac75e54798fb9cdfd8d368b8d6ae3092f4c291cf8465590f7b140000000317b6633102037e9a090a0050bd93e2f57ba870af34480350c789b0987d15b43a53172bfce294de21e7d724e70000000199cd71260050bda074805fc853987abe6f7fe3ad97a6a6f3077a16391fec744f671a015fbd7e0000000066b657b50201200d0e0052bf8a9006bd3fb03d355daeeff93b24be90afaa6e3ca0073ff5720f8a852c933278000000003b9ec1a00051bf47b22d8d0a21004209a3eeb54d9c61d63c8ef5dbc1a701ddc4311c1cacb03f8c000000007733e6190051bf670f2d046c32f2b194958abd36b7c71cd118ec635f0990ceac863e9350f1de6600000000773d8341`;
console.log(parseLiquidateTon(liquidateData2), MAINNET_ASSETS_ID);
const data1 = `b5ee9c720101020100d40001dd0000031100000191465b21d08010974ba4c4a41d43be2f70aaf8bd4bb0a049718a8bb47a3256132edee303bd82b003a36ecff8201a9bf1b6c6641de02c671588d8d8528f9a628473cc130a1e1cdf70690867f9798358ebca8f31f739bfb1a6d171ad5c6125e985239f08cab21ef62a0100c0ffffffff9c6e49c500000000522520640000000000000000ffffffffffffff24ca9006bd3fb03d355daeeff93b24be90afaa6e3ca0073ff5720f8a852c9332780000000000b301de0000000000934d5300000000008ee20100000000000dfe30`;
console.log("***** liquidateData *****");
// https://tonviewer.com/transaction/35fccc7e957ef1017df9b5974b80cf752a78b9b50f6dd1be60cf11a476096d97
console.log("liquidateData", parseLiquidateTon(liquidateData));
console.log("parseLiquidateSatisfyInMsg", parseLiquidateSatisfyInMsg(data1));
console.log("***** liquidateData *****");

console.log("***** liquidateData jetton *****");
// https://tonviewer.com/transaction/12f7646a8eff6b5f28f913e91e8b885dd36e6caa2884ec273c337f6de3010ee7
const data2 =
  "b5ee9c7201020f010002070001ee00000003801f0b395a78fb881391a8162d415176c62b53bdf0f35086b988dfd5f608c820f83003a36ecff8201a9bf1b6c6641de02c671588d8d8528f9a628473cc130a1e1cdf720f645b1a144200841347dd6a9b38c3ac791debb7834e03bb8862383959607f18000000000a89a83f0000000000000000010180e1719052de6d9359f203e6b035e22c2016927c48345396f5d7274d804aa4d15b210eda58539c1307a73ad794eeb9efa106b338504b7695a80a21c811b203480102020120030402012005060201200b0c02012007080052bf895668e908644f30322b997de8faaafc21f05aa52f8982f042dac1fe0b4d09d00000000196af9e410051bf748433fcbcc1ac75e54798fb9cdfd8d368b8d6ae3092f4c291cf8465590f7b14000000030c5ea38302037e9a090a0050bd93e2f57ba870af34480350c789b0987d15b43a53172bfce294de21e7d724e7000000019415a26a0050bda074805fc853987abe6f7fe3ad97a6a6f3077a16391fec744f671a015fbd7e0000000066b9f0a20201200d0e0052bf8a9006bd3fb03d355daeeff93b24be90afaa6e3ca0073ff5720f8a852c933278000000003b9fe9690051bf47b22d8d0a21004209a3eeb54d9c61d63c8ef5dbc1a701ddc4311c1cacb03f8c0000000077355ab90051bf670f2d046c32f2b194958abd36b7c71cd118ec635f0990ceac863e9350f1de6600000000773fd2d3";
console.log("parseLiquidateSatisfyInMsg", parseLiquidateJetton(data2));
const data3 =
  "b5ee9c720101020100d40001dd000003110000019146543475801f0b395a78fb881391a8162d415176c62b53bdf0f35086b988dfd5f608c820f83003a36ecff8201a9bf1b6c6641de02c671588d8d8528f9a628473cc130a1e1cdf72ce1e5a08d865e563292b157a6d6f8e39a231d8c6be13219d590c7d26a1e3bcce0100c0fffffffffd11487600000000026c90f60000000000000000ffffffffffffff8883d916c68510802104d1f75aa6ce30eb1e477aede0d380eee2188e0e56581fc60000000003ad0d5e0000000002b745cb0000000002a26a0f0000000000b324a7";
console.log("parseLiquidateSatisfyInMsg", parseLiquidateSatisfyInMsg(data3));

// https://tonviewer.com/transaction/4a08ee4615601ffac1213c5be69e2434ea52c7954207ec3cf9dfcfa4b13b4661
console.log(
  "parseLiquidateSatisfyInMsg 123123",
  parseLiquidateJetton(
    "b5ee9c720102090100027c0001ee00000003801cd524409e75d3b51a2c2835234e7e2f7239e5101144ac0a37464b817fa17e29d003a36ecff8201a9bf1b6c6641de02c671588d8d8528f9a628473cc130a1e1cdf70690867f9798358ebca8f31f739bfb1a6d171ad5c6125e985239f08cab21ef628000000088da1a77b000000000000000001020120020302015804050185a07c0c893acdf57f9caa263232aa5fdeab2a14dd3b7a6e1948232f78a42e9fa7392636498236959b5b6464896b6a246a2cbc3a6860c83b97d40abfcbf818c3c13e4390080185a05c3ec4ff610e2031ac1590c43a8b3323eeb7159a7840da55cac6b8efdf98f6a91a791e52252e5128a66304a9b332745627b8a4406954252d41f91f057ae629fa0e40060185a05e615f7c4461bc0f12e60f8bb4386e0f01f1280fb8695887a1a0bf6eeb39c9d63de602236c8fab1ede6722f73dbccc85f3101be935e5a0b7c2608a9ba0dcb6088e400700c055534443000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005f5d3ad0000000000000000000000000000000000000000000000000000000065f0065800c055534454000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005f646900000000000000000000000000000000000000000000000000000000065f0065800c0544f4e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000159ccdf30000000000000000000000000000000000000000000000000000000065f00658",
  ),
  parseLiquidateSatisfyInMsg(
    "b5ee9c720101020100c40001dd000003110000018e31996e97801cd524409e75d3b51a2c2835234e7e2f7239e5101144ac0a37464b817fa17e29d003a36ecff8201a9bf1b6c6641de02c671588d8d8528f9a628473cc130a1e1cdf72ce1e5a08d865e563292b157a6d6f8e39a231d8c6be13219d590c7d26a1e3bcce0100a0fffffffffd941efc0000000001c7669a00000000000000001a4219fe5e60d63af2a3cc7dce6fec69b45c6b5718497a6148e7c232ac87bd8a00000002c0cda1f6000000023456879300000002236869de",
  ),
);
console.log("***** liquidateData jetton *****");

console.log("***** liquidateData ton fail ***** \n");
// https://tonviewer.com/transaction/c40a394c6fbf730cf863c5085bc5ddb123ea236ebbd7a31fa48a39348f5c2aa0
const data4 =
  "b5ee9c7201020f0100020f0001fe0000000300000191465d77d28010974ba4c4a41d43be2f70aaf8bd4bb0a049718a8bb47a3256132edee303bd82b003a36ecff8201a9bf1b6c6641de02c671588d8d8528f9a628473cc130a1e1cdf732a401af4fec0f4d576bbbfe4ec92fa42bea9b8f2801cffd5c83e2a14b24cc9e000000000023a96af0000000052252172010180a258f9741fdc4052be58aa511fafa0df6a92958e3e3fc00381697ee7d8f731530f560d2c514a39e6afb5a550fe014cd89a567ff05e4e1e0481765ca5fc74b40202020120030402012005060201200b0c02012007080052bf895668e908644f30322b997de8faaafc21f05aa52f8982f042dac1fe0b4d09d00000000195efb1000051bf748433fcbcc1ac75e54798fb9cdfd8d368b8d6ae3092f4c291cf8465590f7b14000000030b5d404702037e9a090a0050bd93e2f57ba870af34480350c789b0987d15b43a53172bfce294de21e7d724e7000000019356ef740050bda074805fc853987abe6f7fe3ad97a6a6f3077a16391fec744f671a015fbd7e0000000066b9f2eb0201200d0e0052bf8a9006bd3fb03d355daeeff93b24be90afaa6e3ca0073ff5720f8a852c933278000000003b9fd65d0051bf47b22d8d0a21004209a3eeb54d9c61d63c8ef5dbc1a701ddc4311c1cacb03f8c00000000773524db0051bf670f2d046c32f2b194958abd36b7c71cd118ec635f0990ceac863e9350f1de6600000000773facbb";
console.log("parseLiquidateTon", parseLiquidateTon(data4));

console.log(
  "parseLiquidateFailMsg",
  parseLiquidateFailMsg(
    "b5ee9c720101020100a80001dd0000031f00000191465d77d28010974ba4c4a41d43be2f70aaf8bd4bb0a049718a8bb47a3256132edee303bd82b003a36ecff8201a9bf1b6c6641de02c671588d8d8528f9a628473cc130a1e1cdf70690867f9798358ebca8f31f739bfb1a6d171ad5c6125e985239f08cab21ef62a0100680000000052252172ca9006bd3fb03d355daeeff93b24be90afaa6e3ca0073ff5720f8a852c93327800000000008ea5ab000031f2",
  ),
);
console.log("***** liquidateData ton fail *****");

console.log("***** liquidateData jetton fail ***** \n");
// https://tonviewer.com/transaction/412e0c9def815e508f9bff953b82613b5430acf3e3f186a9ca12a5e69f8a7876
const data5 =
  "b5ee9c7201020f010002070001ee00000003801f0b395a78fb881391a8162d415176c62b53bdf0f35086b988dfd5f608c820f83003a36ecff8201a9bf1b6c6641de02c671588d8d8528f9a628473cc130a1e1cdf720f645b1a144200841347dd6a9b38c3ac791debb7834e03bb8862383959607f18000000000a89a9e3000000000000000001018019b304b4393028ba546496fc6bce1e76530c6ee6534b7820f8920cf976405c9d1a36a57b31ad5ee0a7032e9c75d8374de6aad9d44ecb2706e222a66562aab20902020120030402012005060201200b0c02012007080052bf895668e908644f30322b997de8faaafc21f05aa52f8982f042dac1fe0b4d09d00000000196af9e410051bf748433fcbcc1ac75e54798fb9cdfd8d368b8d6ae3092f4c291cf8465590f7b14000000030c03160302037e9a090a0050bd93e2f57ba870af34480350c789b0987d15b43a53172bfce294de21e7d724e7000000019415a26a0050bda074805fc853987abe6f7fe3ad97a6a6f3077a16391fec744f671a015fbd7e0000000066b9f0cf0201200d0e0052bf8a9006bd3fb03d355daeeff93b24be90afaa6e3ca0073ff5720f8a852c933278000000003b9fe9690051bf47b22d8d0a21004209a3eeb54d9c61d63c8ef5dbc1a701ddc4311c1cacb03f8c0000000077355ab90051bf670f2d046c32f2b194958abd36b7c71cd118ec635f0990ceac863e9350f1de6600000000773fd2d3";
console.log("parseLiquidateTon", parseLiquidateJetton(data5));

console.log("***** liquidateData ton fail *****");
